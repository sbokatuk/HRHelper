@page "{slug}"
@model HRHelper.Pages.Requests.EnglishModel
@using Microsoft.Extensions.Localization
@inject IStringLocalizer<HRHelper.SharedResource> L
@{
	ViewData["Title"] = Model.Special?.Title ?? L["English_Title"];
}
@if (Model.Error != null)
{
	<p style="color:red">@Model.Error</p>
}
@if (Model.Special == null)
{
	<p>@L["English_LinkNA"]</p>
}
else
{
	<p>@Model.Payload.Prompt</p>
	@if (!string.IsNullOrEmpty(Model.Payload.VideoUrl))
	{
		<video src="@Model.Payload.VideoUrl" controls width="640"></video>
	}
	<h4>@L["English_RecordOrUpload"]</h4>
	<video id="preview" autoplay muted playsinline width="480"></video><br />
	<button type="button" id="start">@L["English_Record"]</button>
	<button type="button" id="stop">@L["English_Stop"]</button>
	<form method="post" enctype="multipart/form-data">
		<input type="file" name="Video" id="videoInput" accept="video/*" />
		<button type="submit">@L["English_Submit"]</button>
	</form>
	<script src="/js/record.js"></script>
	<script>
		initRecorder(document.getElementById('preview'), document.getElementById('start'), document.getElementById('stop'), document.getElementById('videoInput'));
	</script>
	@if (Model.Success)
	{
		<p>@L["English_Thanks"]</p>
	}
}
