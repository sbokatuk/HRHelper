@page "{slug}"
@model HRHelper.Pages.Requests.QuestionnaireModel
@{
	ViewData["Title"] = Model.Special?.Title ?? "Опросник";
}
@if (Model.Error != null)
{
	<p style="color:red">@Model.Error</p>
}
@if (Model.Special == null)
{
	<p>Ссылка недоступна.</p>
}
else
{
	<p>@Model.Special.Description</p>
	<form method="post">
		@for (int i = 0; i < Model.Questions.Count; i++)
		{
			var q = Model.Questions[i];
			<div>
				<label>@q.Text</label><br />
				@if (q.Multiline)
				{
					<textarea name="q_@q.Id" rows="4" cols="60"></textarea>
				}
				else
				{
					<input type="text" name="q_@q.Id" />
				}
			</div>
		}
		<button type="submit">Отправить</button>
	</form>
	@if (Model.Success)
	{
		<p>Отправлено. Спасибо!</p>
	}
}
