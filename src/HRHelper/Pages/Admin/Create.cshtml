@page
@model HRHelper.Pages.Admin.CreateModel
@using System.Reflection
@inject IConfiguration Configuration
@{
	ViewData["Title"] = "Create special request";
	var version = Configuration["APP_VERSION"] ?? Assembly.GetEntryAssembly()?.GetName().Version?.ToString() ?? "dev";
}
<p style="font-size:0.85em;color:#555;margin-top:-0.5rem">Version: @version</p>
<form method="post" enctype="multipart/form-data">
	<label>Title <input type="text" asp-for="Title" /></label><br />
	<label>Description <textarea asp-for="Description"></textarea></label><br />
	<label>Type 
		<select asp-for="Type">
			<option value="Assignment">Assignment</option>
			<option value="EnglishVideo">English test (video)</option>
			<option value="Questionnaire">Questionnaire</option>
		</select>
	</label><br />
	<label>Expires (UTC) <input type="datetime-local" asp-for="ExpiresAt" /></label>
	<hr />
	<h4>Type parameters</h4>
	<div>
		<label>Video URL (optional) <input type="text" name="VideoUrl" /></label><br />
		<label>Prompt text <textarea name="Prompt"></textarea></label><br />
		<label>PDF (optional) <input type="file" name="Pdf" accept="application/pdf" /></label><br />
		<label>Template Id (GUID, optional) <input type="text" name="TemplateId" /></label>
	</div>
	<button type="submit">Create</button>
	@if (!string.IsNullOrEmpty(Model.CreatedLink))
	{
		<p>Created: <a href="@Model.CreatedLink" target="_blank">@Model.CreatedLink</a></p>
	}
	@if (!string.IsNullOrEmpty(Model.Error))
	{
		<p style="color:red">@Model.Error</p>
	}
</form>
